# Tìm hiểu về CEPH Storage

## 1. Giới thiệu chung

Ceph storage là một hệ thống lưu trữ phân tán mã nguồn mở được thiết kế cung cấp khả năng lưu trữ và quản lý dữ liệu trong môi trường phân tán, đa nguồn và đa dạng. Nó sử dụng kiến trúc phân tán để lưu trữ dữ liệu trên nhiều máy tính và cung cấp khả năng tự phục hồi, độ tin cậy cao và hiệu suất tốt

**Ceph storage được sử dụng để**

- **Lưu trữ dữ liệu**: Ceph cho phép bạn lưu trữ dữ liệu của bạn theo nhiều cách khác nhau, bao gồm lưu trữ dưới dạng khối (RBD), lưu trữ đối tượng (RGW) và hệ thống tập tin (Ceph FS). 
- **Mở rộng linh hoạt**: Ceph cho phép bạn thêm nút lưu trữ mới để mở rộng dung lượng lưu trữ và hiệu suất mà không làm gián đoạn hoạt động của hệ thống. Điều này rất hữu ích khi bạn mở rộng hệ thống lưu trữ để đáp ứng nhu cầu tăng trưởng dữ liệu
- **Tích hợp trong môi trường ảo hóa và đám mây**: Ceph có thể tích hợp tốt với các môi trường ảo hóa như VMware, KVM và các nền tảng đám mây như Openstack. Điều này giúp cung cấp lưu trữ hiệu suất cao cho các máy chủ ảo và ứng dụng trong môi trường ảo hóa
- __Đảm bảo độ tin cậy và tính sẵn sàng__: Ceph sử dụng kỹ thuật sao lưu và phục hồi để đảm bảo dữ liệu của bạn luôn an toàn và có sẵn. Nó có khả năng tự phục hồi khi có sự cố xảy ra, giúp đảm bảo tính sẵn sàng của hệ thống 
- **Lưu trữ đối tượng và dịch vụ trực tuyến**: Ceph Object Gateway cho phép bạn triển khai dịch vụ lưu trữ đối tượng như Amazon S3 và Openstack Swift.

## 2. Kiến trúc Ceph

![img](../imgs/ceph1.webp)

Kiến trúc của Ceph được chia thành 3 tầng chính: Ceph Storage Cluster, Librados và interface

### Ceph Storage Cluster

Đây là phần chính của Ceph, nó hoạt động như một hệ thống lưu trữ phân tán. Nó bao gồm các thành phần như RADOS (Reliable Autonomic Distributed Object Store) để lưu trữ dữ liệu theo hình thức đối tượng phân tán, Ceph OSD để quản lý dữ liệu trên các thiết bị lưu trữ thực tế, Ceph Monitors để giám sát trạng thái của cụm và Ceph Metedata Server để quản lý metadata cho hệ thống tệp

- __OSD (Object Storage Deamon)__ là các tiến trình quản lý các thiết bị lưu trữ trong hệ thống Ceph. Thông thường một OSD process sẽ quản lý một thiết bị lưu trữ vật lý (1 physical disk hoặc 1 volume trong storage device được exposed cho host). OSD trực tiếp thực hiện các tác vụ đọc ghi dữ liệu, tạo các replicas, tải cân bằng, khôi phục dữ liệu. OSD sẽ giao tiếp với OSD khác và cung cấp thông tin cho các tiến trình MON và MRG. Trong hệ thống Ceph cần tối thiểu 3 OSD để đảm bảo tính sẵn sàng và an toàn dữ liệu


# Tài liệu tham khảo

1. https://sdsrv.ai/blog/gioi-thieu-ve-ceph-giai-phap-luu-tru-tren-cloud/
2. https://blog.devopsviet.com/category/ceph/